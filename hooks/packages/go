#!/bin/bash
set -e

export GOPATH="${GOPATH:-"${HOME}/.go"}"

PACKAGES=()
function __add_package() {
  PACKAGES+=($1)
}

# ----------------------
# | Add packages below |
# ----------------------

if ! command -v tag &>/dev/null; then
  __add_package "github.com/aykamko/tag"
fi
if ! command -v jid &>/dev/null; then
  __add_package "github.com/simeji/jid/cmd/jid"
fi

# ------------------------
# | Done adding packages |
# ------------------------

if [ ! "${#PACKAGES[@]}" -eq 0 ]; then
  cat <<MSG

PACKAGES: ${PACKAGES[@]}

MSG

  go get -u "${PACKAGES[@]}"
fi

