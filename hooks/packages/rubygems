#!/bin/bash
set -e

cat <<MSG
===============================================
||            Updating Ruby Gems             ||
===============================================
MSG

gem_install_or_update() {
  if gem list "$1" --installed > /dev/null; then
    gem update "$@"
  else
    gem install "$@"
    [ ! -z $(command -v rbenv) ] && \
      rbenv rehash \
      || true
  fi
}

gem_install_or_update "bundler"
gem_install_or_update "rake"
