# vim: ft=gitconfig
[alias]
  camend = commit --amend --reuse-message HEAD
  ci = commit -v
  fix = commit -v --fixup
  co = checkout
  contributors  = shortlog --summary --numbered
  cundo = reset --soft "HEAD^"
  current-branch = rev-parse --abbrev-ref HEAD
  clean-branch = checkout --orphan
  pf = push --force-with-lease

  assume = update-index --assume-unchanged
  unassume = update-index --no-assume-unchanged
  ls-assumed = "!git ls-files -v | grep ^h | cut -c 3-"
  assume-all = "!git status --porcelain | awk '{ print $2 }' | xargs git assume"
  unassume-all = "!git assumed | xargs git update-index --no-assume-changed"

  ls-tags = tag --list -n1
  versions = releases
  aliases = "!git config -l | grep -e alias | cut -c 7-"

  # Log one-liner with decent summary
  l    = log --simplify-by-decoration --graph --abbrev-commit --decorate --date=relative --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)[%C(green)%G?%C(reset)]%C(bold yellow)%d%C(reset)' --all
  # Log listing each file and graph of amount of file has changed
  ls   = log --topo-order --stat --pretty=format:'%C(bold yellow)Commit:%C(reset) %C(yellow)%H%C(red)%d%C(reset)%n%C(bold yellow)Author:%C(reset) %C(cyan)%an <%ae>%C(reset)[%C(dim yellow)%GS%C(reset)|%C(green)%G?%C(reset)]%n%C(bold yellow)Date:%C(reset)   %C(blue)%ai (%ar)%C(reset)%n%+B'
  # Log listing each file, graph of amount changed respectively, and a full diff
  ld   = log --topo-order --stat --patch --full-diff --pretty=format:'%C(bold yellow)Commit:%C(reset) %C(yellow)%H%C(red)%d%C(reset)%n%C(bold yellow)Author:%C(reset) %C(cyan)%an <%ae>%C(reset)[%C(dim yellow)%GS%C(reset)|%C(green)%G?%C(reset)]%n%C(bold yellow)Date:%C(reset)   %C(blue)%ai (%ar)%C(reset)%n%+B'
  lol  = log --graph --decorate --oneline
  lola = log --graph --decorate --oneline --all
  # Machine-parseable log output formats
  #lm   = log --topo-order --pretty=format:'%s'
  #llf  = fsck --lost-found
[branch "master"]
  rebase = true
[color]
  branch = auto
  diff = auto
  grep = auto
  interactive = auto
  pager = true
  showbranch = auto
  status = auto
  ui = auto
[color "interactive"]
  error = red bold
[color "branch"]
  current = yellow reverse
  local = yellow
  remote = green
[color "diff"]
  meta = yellow
  frag = magenta
  old = red
  new = green
  whitespace = white reverse
[color "status"]
  added = yellow
  changed = cyan
  untracked = cyan reverse
  branch = magenta
[commit]
  template = ~/.config/git/commit_message
  gpgsign = true
[core]
  pager = diff-so-fancy | less --tabs=4 -RFX
  whitespace = fix,-indent-with-non-tab,trailing-space,cr-at-eol
  excludesFile = ~/.config/git/ignore
  autocrlf = input
[credential]
  helper = cache
[diff]
  tool = vimdiff
  submodule = log
[difftool]
  prompt = false
[fetch]
  prune = true
[gpg]
  program = gpg2
[init]
  templatedir = ~/.config/git/template
[merge]
  tool = nvim -d
  ff = yes
  conflictstyle = diff3
[push]
  default = current
  followTags = true
[rebase]
  autoSquash = true
  autoStash = true
[rerere]
  enabled = true
[status]
  submodulesummary = true 
# [url "git@github.com:"]
#   insteadof = https://github.com/
# [url "git@gitlab.com:"]
#   insteadof = https://gitlab.com/
[include]
  path = ~/.gitconfig.local ;
