#!/bin/sh

if [ $# -eq 0 ]; then
  echo 'Missing name for docker container' >&2
  exit 1
fi

shell_type='sh'
if [ $# -gt 1 ]; then
  shell_type="$2"
fi

mkdir -p "$PWD/from_docker"
docker run -v "$PWD/from_docker:/out" -i -t "$1" "$shell_type"
last_exit=$?

rmdir "$PWD/from_docker" 2>/dev/null || true

exit $last_exit
